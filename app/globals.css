@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===============================================
 * ACCESSIBILITY STYLES
 * =============================================== */

/* Screen Reader Only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* High Contrast Mode */
.high-contrast {
  --color-primary: #000000;
  --color-secondary: #ffffff;
  --color-accent: #0066cc;
  --color-text: #000000;
  --color-background: #ffffff;
  --color-border: #000000;
}

.high-contrast * {
  color: var(--color-text) !important;
  background-color: var(--color-background) !important;
  border-color: var(--color-border) !important;
}

.high-contrast button,
.high-contrast input,
.high-contrast select,
.high-contrast textarea {
  border: 2px solid var(--color-border) !important;
  background-color: var(--color-background) !important;
  color: var(--color-text) !important;
}

.high-contrast a {
  color: var(--color-accent) !important;
  text-decoration: underline !important;
}

.high-contrast a:hover,
.high-contrast a:focus {
  background-color: var(--color-accent) !important;
  color: var(--color-background) !important;
}

/* Reduced Motion */
.reduced-motion *,
.reduced-motion *::before,
.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Font Size Options */
.font-small {
  font-size: 14px;
}

.font-medium {
  font-size: 16px;
}

.font-large {
  font-size: 18px;
}

.font-xlarge {
  font-size: 20px;
}

/* Keyboard Navigation */
.keyboard-navigation-active *:focus {
  outline: 2px solid #0066cc !important;
  outline-offset: 2px !important;
}

.keyboard-navigation button:focus,
.keyboard-navigation input:focus,
.keyboard-navigation select:focus,
.keyboard-navigation textarea:focus,
.keyboard-navigation a:focus {
  box-shadow: 0 0 0 2px #0066cc !important;
}

/* Screen Reader Optimization */
.screen-reader-optimized {
  line-height: 1.6;
}

.screen-reader-optimized h1,
.screen-reader-optimized h2,
.screen-reader-optimized h3,
.screen-reader-optimized h4,
.screen-reader-optimized h5,
.screen-reader-optimized h6 {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.screen-reader-optimized p {
  margin-bottom: 1em;
}

.screen-reader-optimized ul,
.screen-reader-optimized ol {
  margin-bottom: 1em;
  padding-left: 2em;
}

.screen-reader-optimized li {
  margin-bottom: 0.25em;
}

/* Skip Navigation Link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #000;
  color: #fff;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 100;
}

.skip-link:focus {
  top: 6px;
}

/* Focus Management */
.focus-visible {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}

/* ===============================================
 * GDPR COMPLIANCE STYLES
 * =============================================== */

/* Cookie Consent Banner */
.cookie-consent-banner {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-top: 1px solid #e5e7eb;
  box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
  z-index: 1000;
}

.cookie-consent-banner.dark {
  background: #1f2937;
  border-top-color: #374151;
}

/* Privacy Notice */
.privacy-notice {
  background: #f3f4f6;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  padding: 16px;
  margin: 16px 0;
}

.privacy-notice.dark {
  background: #374151;
  border-color: #4b5563;
}

.privacy-notice h3 {
  margin-top: 0;
  margin-bottom: 8px;
  font-weight: 600;
  color: #1f2937;
}

.privacy-notice.dark h3 {
  color: #f9fafb;
}

.privacy-notice p {
  margin-bottom: 8px;
  color: #6b7280;
}

.privacy-notice.dark p {
  color: #d1d5db;
}

/* Data Processing Indicators */
.data-processing-indicator {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
}

.data-processing-indicator.essential {
  background: #dbeafe;
  color: #1e40af;
}

.data-processing-indicator.optional {
  background: #fef3c7;
  color: #92400e;
}

.data-processing-indicator.restricted {
  background: #fee2e2;
  color: #dc2626;
}

/* ===============================================
 * RESPONSIVE ACCESSIBILITY
 * =============================================== */

/* Mobile Accessibility */
@media (max-width: 768px) {
  .accessibility-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
  }

  .cookie-consent-banner {
    padding: 16px;
  }

  .font-small {
    font-size: 16px;
  }

  .font-medium {
    font-size: 18px;
  }

  .font-large {
    font-size: 20px;
  }

  .font-xlarge {
    font-size: 22px;
  }
}

/* Tablet Accessibility */
@media (min-width: 769px) and (max-width: 1024px) {
  .accessibility-widget {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 1000;
  }
}

/* Desktop Accessibility */
@media (min-width: 1025px) {
  .accessibility-widget {
    position: fixed;
    bottom: 32px;
    right: 32px;
    z-index: 1000;
  }
}

/* ===============================================
 * PRINT STYLES
 * =============================================== */

@media print {
  .accessibility-widget,
  .cookie-consent-banner {
    display: none !important;
  }

  .privacy-notice {
    background: transparent !important;
    border: 1px solid #000 !important;
    color: #000 !important;
  }

  .privacy-notice * {
    color: #000 !important;
  }
}

/* ===============================================
 * DARK MODE SUPPORT
 * =============================================== */

@media (prefers-color-scheme: dark) {
  .high-contrast {
    --color-primary: #ffffff;
    --color-secondary: #000000;
    --color-accent: #66b3ff;
    --color-text: #ffffff;
    --color-background: #000000;
    --color-border: #ffffff;
  }
}

/* ===============================================
 * LEGACY BROWSER SUPPORT
 * =============================================== */

/* IE11 Support */
@supports not (display: grid) {
  .accessibility-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
  }

  .cookie-consent-banner {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
  }
}

/* ===============================================
 * ANIMATION PREFERENCES
 * =============================================== */

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Respect user's contrast preferences */
@media (prefers-contrast: high) {
  * {
    border-color: #000 !important;
  }

  button,
  input,
  select,
  textarea {
    border: 2px solid #000 !important;
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    /* Solarized Dark Theme */
    --background: 192 100% 11%;        /* base03: #002b36 */
    --foreground: 44 87% 94%;          /* base0: #839496 */
    --card: 193 100% 13%;              /* base02: #073642 */
    --card-foreground: 44 87% 94%;     /* base0: #839496 */
    --popover: 193 100% 13%;           /* base02: #073642 */
    --popover-foreground: 44 87% 94%;  /* base0: #839496 */
    --primary: 205 69% 67%;            /* blue: #268bd2 */
    --primary-foreground: 192 100% 11%; /* base03: #002b36 */
    --secondary: 192 90% 21%;          /* base01: #586e75 */
    --secondary-foreground: 186 13% 75%; /* base1: #93a1a1 */
    --muted: 192 90% 21%;              /* base01: #586e75 */
    --muted-foreground: 186 13% 75%;   /* base1: #93a1a1 */
    --accent: 68 100% 30%;             /* green: #859900 */
    --accent-foreground: 44 11% 93%;   /* base3: #fdf6e3 */
    --destructive: 1 71% 52%;          /* red: #dc322f */
    --destructive-foreground: 44 11% 93%; /* base3: #fdf6e3 */
    --border: 192 81% 27%;             /* base01 lighter */
    --input: 192 81% 27%;              /* base01 lighter */
    --ring: 205 69% 67%;               /* blue: #268bd2 */
    --chart-1: 205 69% 67%;            /* blue: #268bd2 */
    --chart-2: 175 74% 63%;            /* cyan: #2aa198 */
    --chart-3: 68 100% 30%;            /* green: #859900 */
    --chart-4: 45 100% 51%;            /* yellow: #b58900 */
    --chart-5: 18 89% 60%;             /* orange: #cb4b16 */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ===============================================
 * MOBILE-FIRST UTILITIES
 * =============================================== */

/* Prevent horizontal scroll on all elements */
html,
body {
  overflow-x: hidden;
  width: 100%;
}

/* iOS Safe Area Support */
:root {
  --sat: env(safe-area-inset-top);
  --sar: env(safe-area-inset-right);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
}

/* Safe area utilities */
.pt-safe {
  padding-top: env(safe-area-inset-top);
}

.pr-safe {
  padding-right: env(safe-area-inset-right);
}

.pb-safe {
  padding-bottom: env(safe-area-inset-bottom);
}

.pl-safe {
  padding-left: env(safe-area-inset-left);
}

/* Combined safe areas */
.p-safe {
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}

.px-safe {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.py-safe {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
}

/* Mobile Touch Targets (minimum 44x44px for accessibility) */
.touch-target {
  min-width: 44px;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Prevent text selection on tap (for button-like elements) */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Mobile-friendly scrolling */
.smooth-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Hide scrollbars on mobile but keep functionality */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Mobile backdrop blur support */
@supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
  .mobile-blur {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
}

/* Pull-to-refresh prevention on overscroll */
body {
  overscroll-behavior-y: contain;
}

/* Mobile-optimized transitions */
@media (prefers-reduced-motion: no-preference) {
  .mobile-transition {
    transition-property: transform, opacity;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Responsive text sizing utility classes */
.text-mobile-xs {
  font-size: 0.75rem; /* 12px */
  line-height: 1rem;
}

.text-mobile-sm {
  font-size: 0.875rem; /* 14px */
  line-height: 1.25rem;
}

.text-mobile-base {
  font-size: 1rem; /* 16px */
  line-height: 1.5rem;
}

.text-mobile-lg {
  font-size: 1.125rem; /* 18px */
  line-height: 1.75rem;
}

.text-mobile-xl {
  font-size: 1.25rem; /* 20px */
  line-height: 1.75rem;
}

/* Compact spacing utilities */
.compact-p {
  padding: 0.75rem; /* 12px */
}

.compact-px {
  padding-left: 0.75rem;
  padding-right: 0.75rem;
}

.compact-py {
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
}

.compact-gap {
  gap: 0.75rem;
}

/* Mobile-specific z-index layers */
:root {
  --z-mobile-bottom-nav: 40;
  --z-mobile-header: 30;
  --z-mobile-overlay: 50;
  --z-mobile-modal: 60;
}
 